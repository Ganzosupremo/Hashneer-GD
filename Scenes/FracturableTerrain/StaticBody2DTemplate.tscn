[gd_scene load_steps=15 format=3 uid="uid://bg51o3dcb5mrm"]

[ext_resource type="Script" uid="uid://bjrgycn06uxy0" path="res://Scripts/FracturableTerrain/FracturableStaticBody2D.gd" id="1_obgke"]
[ext_resource type="Script" uid="uid://clbr10soo6aow" path="res://Scripts/Components/HealthComponent.gd" id="2_56ed8"]
[ext_resource type="Script" uid="uid://bw5mrw1knvour" path="res://addons/item_drops/drops/random_drops.gd" id="7_78gmd"]
[ext_resource type="Script" uid="uid://daksr3jumc0af" path="res://addons/item_drops/drops/droppable.gd" id="8_ildng"]
[ext_resource type="Script" uid="uid://bopjfk7oa47k2" path="res://addons/item_drops/drops/drops_table.gd" id="9_wqqyk"]
[ext_resource type="Script" uid="uid://c3clj86lkv5ej" path="res://addons/item_drops/scene_spawner/2d/launch_force_scene_spawner_2d.gd" id="10_78gmd"]
[ext_resource type="Script" uid="uid://bcjmdqied76to" path="res://addons/item_drops/scene_spawner/2d/shape_edge_scene_spawner_2d.gd" id="10_idcnk"]
[ext_resource type="Script" uid="uid://gm1tcxr1506r" path="res://addons/item_drops/settings/spawn_group.gd" id="11_r1qd5"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_qpjim"]
closed = false
cull_mode = 2

[sub_resource type="Resource" id="Resource_kvb86"]
script = ExtResource("8_ildng")
drop_path = "uid://bjdc26h1h0pfv"
metadata/_custom_type_script = "uid://ckwvxfsflo23h"

[sub_resource type="Resource" id="Resource_5qe7n"]
script = ExtResource("9_wqqyk")
possible_drops = Array[ExtResource("8_ildng")]([SubResource("Resource_kvb86")])
guaranteed_drops = 2
metadata/_custom_type_script = "uid://bopjfk7oa47k2"

[sub_resource type="Resource" id="Resource_ildng"]
script = ExtResource("11_r1qd5")
name = &"PickupsHolder"
metadata/_custom_type_script = "uid://gm1tcxr1506r"

[sub_resource type="Resource" id="Resource_wqqyk"]
script = ExtResource("11_r1qd5")
name = &"PickupsHolder"
metadata/_custom_type_script = "uid://gm1tcxr1506r"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ildng"]
size = Vector2(80, 80)

[node name="FracturableStaticBody2D" type="StaticBody2D"]
light_mask = 2
visibility_layer = 2
collision_layer = 8
collision_mask = 248
script = ExtResource("1_obgke")
placed_in_level = true
randomize_texture_properties = false
polygon_shape = 1
rectangle_size = Vector2(250, 250)

[node name="Health" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("2_56ed8")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
unique_name_in_owner = true
light_mask = 2
visibility_layer = 2

[node name="Polygon2D" type="Polygon2D" parent="."]
unique_name_in_owner = true
light_mask = 2
visibility_layer = 2
texture_filter = 1
texture_repeat = 3

[node name="Line2D" type="Line2D" parent="Polygon2D"]
unique_name_in_owner = true
light_mask = 2
visibility_layer = 2

[node name="Center" type="Polygon2D" parent="."]
light_mask = 2
visibility_layer = 2

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_qpjim")
occluder_light_mask = 2

[node name="RandomDrops" type="Node2D" parent="." node_paths=PackedStringArray("scene_spawner")]
unique_name_in_owner = true
script = ExtResource("7_78gmd")
drops_table = SubResource("Resource_5qe7n")
scene_spawner = NodePath("../ShapeEdgeSceneSpawner2D")

[node name="LaunchForceSceneSpawner2D" type="Node2D" parent="."]
script = ExtResource("10_78gmd")
force = 3000.0
direction = Vector2(0.5, 0.5)
angle_spread = 90.0
spawn_group = SubResource("Resource_ildng")

[node name="ShapeEdgeSceneSpawner2D" type="Node2D" parent="." node_paths=PackedStringArray("spawn_shape")]
script = ExtResource("10_idcnk")
spawn_shape = NodePath("../CollisionShape2D")
spawn_group = SubResource("Resource_wqqyk")
metadata/_custom_type_script = "uid://bcjmdqied76to"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_ildng")
disabled = true
